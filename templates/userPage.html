<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
            crossorigin="anonymous">
		<title>BudgetPlanner</title>
		<link rel="stylesheet" href="/static/styles/user.css">
	</head>
	
		<body>
		<nav class="navbar">
			<div class="container">
				<a href="#" class="navbar-brand">BudgetPlanner</a>
				<div class="navbar-wrap">
					<ul class="navbar-menu">
						<li><a href="#">Получить данные</a></li>
						<li><a href="#">История заполнений</a></li>
						<li><a href="#footerbar">Сведенья о разработчике</a></li>
					</ul>
					<a href="/" class="Registr_LogIn">Выход</a>
				</div>
			</div>
		</nav>


		<main>

			<div class="user-box">
				<div class="user-graphs">
					<div style="width: 38%; height: 100%;">
						<canvas style="width: 100%; height: 100%;" id="expenses"></canvas>
						<a href="{{ expensesLink }}" class="user-box-button">Заполнить расходы</a>
					</div>
					<div style="width: 24%; height: 100%;"><canvas style="width: 100%; height: 100%;" id="ratio"></canvas></div>
					<div style="width: 38%; height: 100%;">
						<canvas style="width: 100%; height: 100%;" id="income"></canvas>
						<a href="{{ incomeLink }}" class="user-box-button">Заполнить доходы</a>
					</div>
				</div>

				<div class="user-predictions">
					<canvas id="predictions"></canvas>
				</div>
			</div>

		</main>


		<footer class="footerbar" id="footerbar">
			<div class="footerbar-container">
				<h5>Контакты разработчика</h5>
				<div class="footerbar-wrap">
					<ul class="footerbar-contacts-filling">
						<li><a href="https://t.me/EgorAndrik">Telegram</a></li>
						<li><a href="https://github.com/EgorAndrik">GitHub</a></li>
						<li><a href="https://vk.com/egor_andrik">VK</a></li>
					</ul>
					<a href="https://github.com/EgorAndrik/BudgetPlanner_WebApplication" class="OpenSourse">Код приложения</a>
				</div>
			</div>
		</footer>


		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script>

			const expenses = document.getElementById('expenses');
			new Chart(expenses, {
			  type: 'line',
			  data: {
				labels: {{ chart_data[0][0]|tojson }},
				datasets: [{
				  label: 'Расходы',
				  data: {{ chart_data[0][1]|tojson }},
				  borderWidth: 1
				}]
			  },
			  options: {
				scales: {
				  y: {
					beginAtZero: true
				  }
				}
			  }
			});


			const ratio = document.getElementById('ratio');
			new Chart(ratio, {
			  type: 'doughnut',
			  data: {
					labels: [
						'Red',
						'Blue',
						'Yellow'
					],
					datasets: [{
						label: 'My First Dataset',
						data: [300, 50, 100],
						backgroundColor: [
						'rgb(255, 99, 132)',
						'rgb(54, 162, 235)',
						'rgb(255, 205, 86)'
						],
						hoverOffset: 4
					}]
					}})


			const income = document.getElementById('income');
			new Chart(income, {
				type: 'line',
				data: {
				labels: {{ chart_data[1][0]|tojson }},
				datasets: [{
					label: 'Доходы',
					data: {{ chart_data[1][1]|tojson }},
					borderWidth: 1
				}]
				},
				options: {
				scales: {
					y: {
					beginAtZero: true
					}
				}
				}
			});


			const predictions = document.getElementById('predictions');
			new Chart(predictions, {
				type: 'line',
				data: {
				labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
				datasets: [{
					label: 'Доходы',
					data: [12, 19, 3, 5, 2, 3],
					borderWidth: 1
				}]
				},
				options: {
				scales: {
					y: {
					beginAtZero: true
					}
				}
				}
			});

		</script>

	</body>
</html>