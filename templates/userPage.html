<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
            crossorigin="anonymous">
		<title>BudgetPlanner</title>
		<link rel="stylesheet" href="/static/styles/user.css">
	</head>
	
		<body>
		<nav class="navbar">
			<div class="container">
				<a href="#" class="navbar-brand">BudgetPlanner</a>
				<div class="navbar-wrap">
					<ul class="navbar-menu">
						<li><a href="{{ getDataUser }}">Получить данные</a></li>
						<li><a href="{{ setDataUser }}">Загрузить данные</a></li>
						<li><a href="#footerbar">Сведенья о разработчике</a></li>
					</ul>
					<a href="/" class="Registr_LogIn">Выход</a>
				</div>
			</div>
		</nav>


		<main>

			<div class="user-box">
				<div class="user-graphs">
					<div style="width: 38%; height: 100%;">
						<canvas style="width: 100%; height: 100%;" id="expenses"></canvas>
						<a href="{{ expensesLink }}" class="user-box-button">Заполнить расходы</a>
					</div>
					<div style="width: 24%; height: 100%;"><canvas style="width: 100%; height: 100%;" id="ratio"></canvas></div>
					<div style="width: 38%; height: 100%;">
						<canvas style="width: 100%; height: 100%;" id="income"></canvas>
						<a href="{{ incomeLink }}" class="user-box-button">Заполнить доходы</a>
					</div>
				</div>

				<div class="user-predictions">
					<canvas id="predictions"></canvas>
				</div>
			</div>

		</main>


		<footer class="footerbar" id="footerbar">
			<div class="footerbar-container">
				<h5>Контакты разработчика</h5>
				<div class="footerbar-wrap">
					<ul class="footerbar-contacts-filling">
						<li><a href="https://t.me/EgorAndrik">Telegram</a></li>
						<li><a href="https://github.com/EgorAndrik">GitHub</a></li>
						<li><a href="https://vk.com/egor_andrik">VK</a></li>
					</ul>
					<a href="https://github.com/EgorAndrik/BudgetPlanner_WebApplication" class="OpenSourse">Код приложения</a>
				</div>
			</div>
		</footer>


		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script src="/static/scrits/userScrits.js"></script>
		<script>

			expensesLineChart({{ chart_expenses_data[1]|tojson }}, {{ chart_expenses_data[0]|tojson }});
			ratioChart({{ chart_ratio_data|tojson }});
			incomeLineChart({{ chart_income_data[1]|tojson }}, {{ chart_income_data[0]|tojson }});


			const predictions = document.getElementById('predictions');
			new Chart(predictions, {
				type: 'line',
				data: {
				labels: [],
				datasets: [{
					label: 'Расчёт',
					data: [],
					borderWidth: 1
				}]
				},
				options: {
				scales: {
					y: {
					beginAtZero: true
					}
				}
				}
			});

		</script>

	</body>
</html>